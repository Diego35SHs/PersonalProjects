   _               _        __                            
  /_\  _ __   ___ | |_ __ _/ _\_   _  ___ _ __   ___  ___ 
 //_\\| '_ \ / _ \| __/ _` \ \| | | |/ _ \ '_ \ / _ \/ __|
/  _  \ | | | (_) | || (_| |\ \ |_| |  __/ | | | (_) \__ \
\_/ \_/_| |_|\___/ \__\__,_\__/\__,_|\___|_| |_|\___/|___/

------------------------------------------------------------
-                   AnotaSuenos(WIP)                       -
-              Creado por Diego Alarcón                    -
-                    2020 - 2021                           -
-                  Diego35SHs - Github                     -
------------------------------------------------------------

Texto en Ascii creado en: https://patorjk.com/software/taag/#p=display&f=Graffiti&t=Type%20Something%20

Errores comunes

-No poner el session_start cuando necesito el id o nombre de usuario;
-No poner el require config.php o ponerlo sin la referencia escrita correctamente -> "../config.php" por ejemplo.
-Poner .value cuando en realidad se necesita innerHTML o viceversa.


Cosas aprendidas
-Para conseguir el nuevo valor escrito en un textarea, se debe usar "value", en vez de innerHTML.
 por ejemplo: controlTXA = document.getElementById("textarea");
 y luego: controlTXA.value = "ALGO";
-Ajax igual es piola. Para que voy a mentir.
-Al empaquetar información en ajax no poner NADA antes del primer valor, a pesar de que el "&" funciona, es mejor no ponerlo al principio.


Fuentes:
https://stackoverflow.com/questions/1927593/cant-update-textarea-with-javascript-after-writing-to-it-manually
https://stackoverflow.com/questions/14892516/jquery-button-click-triggers-multiple-times
https://stackoverflow.com/questions/18605563/href-must-not-reload
https://www.w3schools.com/tags/att_a_target.asp
https://www.w3schools.com/howto/howto_css_icon_buttons.asp
https://fontawesome.com/v4.7.0/icons/
https://stackoverflow.com/questions/22709936/alert-with-multiple-options
https://www.w3schools.com/bootstrap4/tryit.asp?filename=trybs_navbar_collapse
https://stackoverflow.com/questions/8919682/remove-all-styling-formatting-from-hyperlinks

Versión 0.4
-Arreglado un bug que hacía que el checkeo de me gusta de cada sueño solo funcionara correctamente con un usuario
-Se eliminaron los archivos de handlerLike y handlerDislike para sueños. En su lugar se optimizó y organizó el código correspondiente a ambos dentro de "handlerAuxSuenos.php"
-Siguiendo lo anterior, se eliminaron los archivos handlerLike y handlerDislike para comentarios. Se realizaron las mismas acciones que en el punto anterior.
-Se añadieron descripciones a más funciones dentro de la aplicación.
-Añadida la función para modificar sueños.
-Arreglado un bug que hacía que dos funciones se ejecutaran al presionar un botón cuando no tenía que ser así.

Versión 0.5
-Se eliminaron los archivos de agregarSueno, agregarComentario y modificarSueno. Sus funciones se integraron en handlerAuxSuenos y handlerAuxComent respectivamente, optimizando el código y disminuyendo la cantidad de archivos.
-Se añadieron aún más descripciones a distintas funciones a lo largo del programa para mantener la legibilidad y mantenibilidad del código, esto continuará con cada versión. 
-Borrados comentarios de código que no se va a utilizar.
-Se identificó una función duplicada que se podría eliminar en el futuro.
-Corregido un nombre incorrecto de una función.
-La cantidad de sueños publicados por el usuario ahora se actualiza al momento de publicar un sueño.
-Identificada una acción no intencionada al contar la cantidad de sueños publicados por un usuario.
-Se cambió un texto que los usuarios podían ver al cargar el miniperfil en la página home por uno menos confuso.

Versión 0.6
-Se cambió la función de cantidad de sueños a una que muestre solo los públicos y no +18 en la página home.
-La función para contar todos los sueños usada anteriormente se cambió a cantidadSuenosTotal. Esta contará todos los sueños de todos los usuarios.
-Se creó una sección de estadísticas que todos los usuarios podrán consultar. Esta sección podría desaparecer en el futuro.
-Se arregló un bug que hacía que al guardar modificaciones a un sueño no se aplicaran las modificaciones al estilo como correspondía.
-La altura de los sueños ahora se ajusta correctamente al terminar de modificar uno.
-Arreglado un parámetro de altura para los sueños que tenían 200 caracteres.
-Se recalibraron todos los parámetros para el alto del textarea de cada sueño.
-Se añadieron restricciones para modificar sueños, ahora no pueden estar vacíos ni superar 500 caracteres y el usuario recibirá un aviso de ello.

Versión 0.7
-Se creó el archivo perfilPublico.php, actualmente se puede ver el nombre de usuario y su descripción
-El usuario en sesión verá el botón para modificar su descripción, pero no puede modificar la de otro usuario.
-Se implementó la función para modificar descripción en el archivo handlerAuxUsuario.php
-Se calibró el alto del textarea para la descripción del perfil de usuario cuando este sobrepase los 400 caracteres.
-Se identificó un bug en el que la descripción queda vacía cuando los usuarios dejan su descripción vacía, debería decir "Este usuario no ha escrito ninguna descripción".
-Se modificó el script SQL para incluir la columna de descripción en los perfiles de usuario.
-Se cambió la implementación de la función principal de mostrarSuenos.php, ahora se accede a ella por medio de un switch como en los demás handlers.
-Se solucionó un problema que impedía que los usuarios pudieran acceder a la sección de comentarios de los sueños desde un perfil de usuario.
-Se crearon funciones para listar categorías de sueños. Están hechas de una forma muy poco eficiente, por lo tanto están en la mira para cambios en el futuro.
-Se identificaron más especificaciones para listar categorías de sueños. Este aspecto se encuentra en fases de testeo y calibración.
-Se eliminaron los otros archivos de mostrarSuenos ya que el archivo principal ahora sirve para todas las funciones requeridas.
-Se implementó un indicador si un sueño es +18.

Versión 0.8
-Se creó una nueva forma de filtrar registros, más ligera y con menos código. Su funcionamiento es por medio de un switch que tendrá todas las posibles consultas juntas. Pero todas
 acabarán por pasarse a la misma función de mostrar sueños, disminuyendo drásticamente la cantidad de código a mantener en caso de que se realicen cambios a la función de mostrar sueños.
 gracias a este cambio se eliminaron 184 líneas de código y se reemplazaron por 109, el mayor beneficio es la mantenibilidad.
-Identificado un bug en el que los usuarios no pueden modificar sus sueños luego de aplicar un filtro dentro de su perfil.
 De momento, solo se podrán modificar antes de aplicar un filtro o desde la página de home. Se desconoce la causa del bug.
-Se eliminó la cuenta de sueños del perfil de usuario que se ubicaba al principio del listado, ahora solo se mostrará en la parte superior junto a las demás estadísticas.
-Se cambió de posición el botón cerrar sesión a una posición más cómoda.
-Se solucionó un problema que provocaba que el div del perfil del usuario se viera más ancho que los elementos de la parte de abajo.
-Identificado un problema con los filtros en los que no se puede pasar de página al filtrar. Investigar paginación.
-Se hizo una prueba con paginación, pero no se va a implementar aún.
-Se añadió un contador de "Me gusta" recibidos al perfil de usuario.

Versión 0.9
-Se añadieron más descripciones para algunas funciones.
-Se creó la tabla Segudidores en el script SQL.
-Se arregló un error de lógica en que la comparación entre usuario en sesión y 
 usuario del perfil resultaba en que el botón "Seguir" solo aparecía para 
 el usuario en sesión que visita su propio perfil, lo cual no tiene sentido.
-Se agregó el botón para volver al inicio de los listados de sueños.
-Se agregó el botón para volver al inicio de los listados de comentarios.
-Se agregó el botón para seguir y dejar de seguir a usuarios
-Se agregó una función que permite contar los seguidores de un respectivo usuario.
-Se agregó un chequeo de "Seguidor" para los usuarios, ahora, si se sigue un usuario aparecerá el botón "dejar de seguir" en lugar del de "seguir".
-Ahora se lista la cantidad de seguidores en el perfil del usuario.
-Se cambiaron los "ifs" del archivo mostrarComentarios.php por un switch.
-Las funciones del archivo mostrarComentarios ahora utilizan la configuración de config.php en lugar de ser declaradas dentro de las funciones.
-El botón para seguir/dejar de seguir usuarios ya es completamente funcional.

Versión 1.0
-Se añadió un chequeo de propiedad al intentar ver sueños. El sitio verificará primero si el sueño es privado, si lo es, verificará la propiedad.
 si el usuario que intenta acceder al sueño NO es propietario, el sitio dará aviso y enviará al usuario a la página home. Si es el propietario mostrará
 el sueño normalmente. Finalmente, si el sueño no es privado, no se realizará la verificación de propiedad y el sueño se mostrará sin problema.
-Se actualizó la función verSueno para reflejar los cambios hechos a la función mostrarSuenosGeneric().
-Ahora el hacer click en el nombre de usuario llevará al usuario a su propio perfil.
-Se añadió la función para ver sueños solo de usuarios seguidos. Sin embargo, no es compatible con la paginación. Todavía.
-Se añadió el botón "Ver Seguidos" para listar los sueños solo de usuarios seguidos para realizar pruebas.
-Se añadió una variable para controlar los filtros que posibilitará usar la paginación dentro de los perfiles de usuario y próximamente dentro de la página home.
-La variable para controlar los filtros mencionada en el punto anterior parece funcionar correctamente, se deberían realizar más pruebas, incluidas pruebas con hackeo.
-Se identificó un fallo de seguridad en el que los usuarios podrán ver sueños privados sin ser propietarios del mismo.
-Aparentemente, se solucionó este fallo de seguridad, sin embargo se necesitan hacer más pruebas para poder asegurarlo completamente.
-Se cambió la opción en ajax para ver los sueños. Ahora forma parte del listado de consultas preparadas.
-Se implementó el control de filtros en la página home. Ahora implementar nuevos filtros será mucho más sencillo.

Versión 1.1
-Se añadió la librería de fontawesome, su principal función hasta ahora es la de incluir íconos en botones.
-Se reemplazaron textos por botones para los de modificar y eliminar sueños.
-Se identificó un problema en el que el ícono para modificar sueños no se puede modificar.
-Se añadió una confirmación para los usuarios que deseen eliminar un sueño, junto al botón para eliminar sueños.
-Se mejoró la tabla de me gusta para comentarios, facilitando el borrado para futuras consultas.
-Se cambiaron las funciones en el archivo handlerAuxComent para reflejar estos cambios.
-El botón para eliminar sueños ya es funcional completamente. Al borrar un sueño se eliminarán también los me gusta, comentarios y me gusta dados a los comentarios.
-Se implementó una función tomada de Stack Overflow (creditada) que permitirá obtener los elementos de la URL a medida que sean necesarios
-Se identificó un posible bug que podría permitir a los usuarios asociar sus me gusta de comentarios a sueños que no tienen nada que ver. 
-Una prueba con el punto anterior indica que no es el caso.
-Se añadió una barra de navegación a la parte superior con distintas funcionalidades.
-Se solucionó un problema en el que el filtro no se aplicaba correctamente al presionar el link "Seguidos" en la barra de navegación.

-TODO: Crear las opciones para modificar comentarios y eliminar comentarios.
